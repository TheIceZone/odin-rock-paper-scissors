<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        function computerPlay () { // Use random number gen to pick number 1-3 to determine computer pick
            let roundPick = Math.floor(Math.random() * 3) + 1;
            if (roundPick == 1) {
                roundPick = "Rock";
            } else if (roundPick == 2) {
                roundPick = "Paper";
            } else if (roundPick == 3) {
                roundPick = "Scissors"
            } else {
                console.log("Computer pick failed");
            }
            return roundPick;
        }
        function capitalize (string) { // Take what is types and correct it to proper capitalization for game (ex. rOCk to Rock)
            let first = string.charAt(0);
            first = first.toUpperCase();
            let rest = string.slice(1);
            rest = rest.toLowerCase();
            let finalSelection = first + rest;
            return finalSelection
        }
        function playRound (userPick, computerPick) { // Goes through possible senerios to determine winner and print result
            userPick = capitalize(userPick);
            
            if (userPick == "Rock" && computerPick == "Scissors") {
                let result = "You Win! Rock beats Scissors";
                return result;
            } else if (userPick == "Rock" && computerPick == "Paper") {
                let result = "You Lose! Paper beats Rock";
                return result;
            } else if (userPick == "Rock" && computerPick == "Rock") {
                let result = "You Draw! Rock equals Rock";
                return result;
            } else if (userPick == "Paper" && computerPick == "Rock") {
                let result = "You Win! Paper beats Rock";
                return result;
            } else if (userPick == "Paper" && computerPick == "Scissors") {
                let result = "You Lose! Scissors beats Paper";
                return result;
            } else if (userPick == "Paper" && computerPick == "Paper") {
                let result = "You Draw! Paper equals Paper";
                return result;
            } else if (userPick == "Scissors" && computerPick == "Paper") {
                let result = "You Win! Scissors beats Paper";
                return result;
            } else if (userPick == "Scissors" && computerPick == "Rock") {
                let result = "You Lose! Rock beats Scissors";
                return result;
            } else if (userPick == "Scissors" && computerPick == "Scissors") {
                let result = "You Draw! Scissors equals Paper";
                return result;
            } else {
                console.log("Error determining winner");
                let result = "undetermined";
                return result;
            }
        }
       function game () { // Plays through 5 rounds of game and determines winner
            let playerScore = 0; // Set scores to 0 at beginning
            let computerScore = 0;
            for (let i = 0; i < 5; i++) { //Set loop to repeat game for 5 rounds
                let playerSelection = prompt("Rock, Paper, or Scissors? (Spelling Counts!)");
                playerSelection = capitalize(playerSelection);
                let computerSelection = computerPlay();
                let winner = playRound(playerSelection, computerSelection);
                if (winner == winner.includes("Win")) {
                    playerScore = playerScore + 1;
                } else if (winner == winner.includes("Lose")) {
                    computerScore = computerScore + 1;
                } else {}
                console.log(winner);
                console.log("The score is currently " + playerScore + " to " + computerScore);
            }
            // Displays winner at end by comparing scores
            if (playerScore > computerScore) {
                console.log("Player Wins!");
            } else if (playerScore < computerScore) {
                console.log("Computer Wins!");
            } else {
                console.log("Draw!");
            }
        }    
       console.log(game()); // Puts result of game function in console
        </script>
</body>
</html>
